import{a as Ce,d as Je,e as Z,f as Ke}from"./chunk-PDMTLYJN.js";import{a as Y,d as We,e as L}from"./chunk-3MILEHMB.js";import{A as Pe,B as Ee,C as we,D as Te,E as Ie,F as ke,G as Oe,H as De,I as Be,J as Fe,K as Ne,L as Le,M as je,N as Ae,O as Ve,P as Re,Q as $e,R as Ue,S as ze,T as Ge,U as He,V as qe,W as w,a as W,h as ye,m as F,o as N,p as J,r as ve,s as K,u as Q,v as X,x as xe,y as Me,z as Se}from"./chunk-5KVKQEGS.js";import"./chunk-XAZLOLJU.js";import{a as V}from"./chunk-S4DCJUMT.js";import{d as E}from"./chunk-L4HXEMRN.js";import{r as q}from"./chunk-COQU7ES4.js";import{$a as le,Ab as h,Ea as z,Eb as A,Ec as be,Fa as re,Fb as pe,Gb as me,Gc as _e,Hb as r,Ib as n,Jb as u,Kb as O,Lb as D,Nb as B,Tb as _,Ub as v,Xb as x,_a as j,a as $,b as U,ba as k,bc as de,c as ne,cb as a,cc as l,db as b,dc as g,ec as m,fc as fe,ga as I,gc as ue,hc as ge,ic as he,jc as M,la as ae,ma as y,mc as s,nc as c,pb as G,vb as C,w as oe,wa as S,wb as H,xa as P,xb as se,yb as ce}from"./chunk-3S6DEF7O.js";var pt=(t,d)=>d.no;function mt(t,d){if(t&1&&(r(0,"div",1),u(1,"img",3),r(2,"span",4),l(3),n()()),t&2){let e=d.$implicit;a(),x("alt",e.iconTitle),h("src",e.iconPath,j),a(2),g(e.iconTitle)}}function dt(t,d){t&1&&(r(0,"div",2),l(1,"No Icons Found"),n())}var Qe=(()=>{class t{constructor(){this.icons=[{no:1,iconTitle:"Building",iconPath:"assets/images/building.png"},{no:2,iconTitle:"Cloud",iconPath:"assets/images/cloud-network.png"},{no:3,iconTitle:"Idea",iconPath:"assets/images/idea.png"},{no:4,iconTitle:"Laptop",iconPath:"assets/images/laptop.png"},{no:5,iconTitle:"Like",iconPath:"assets/images/like.png"},{no:6,iconTitle:"Line-Chart",iconPath:"assets/images/line-chart.png"},{no:7,iconTitle:"Meteor-Rain",iconPath:"assets/images/meteor-rain.png"},{no:8,iconTitle:"Money-Bag",iconPath:"assets/images/money-bag.png"},{no:9,iconTitle:"MortarBoard",iconPath:"assets/images/mortarboard.png"},{no:10,iconTitle:"NoteBook",iconPath:"assets/images/notebook.png"},{no:11,iconTitle:"Presentation",iconPath:"assets/images/presentation.png"},{no:12,iconTitle:"Search",iconPath:"assets/images/search.png"},{no:13,iconTitle:"Shopping-Cart",iconPath:"assets/images/shopping-cart.png"},{no:14,iconTitle:"Video",iconPath:"assets/images/video.png"},{no:15,iconTitle:"Worckplace",iconPath:"assets/images/workplace.png"},{no:16,iconTitle:"Building",iconPath:"assets/images/building.png"},{no:17,iconTitle:"Cloud",iconPath:"assets/images/cloud-network.png"},{no:18,iconTitle:"Idea",iconPath:"assets/images/idea.png"},{no:19,iconTitle:"Laptop",iconPath:"assets/images/laptop.png"},{no:20,iconTitle:"Like",iconPath:"assets/images/like.png"},{no:21,iconTitle:"Line-Chart",iconPath:"assets/images/line-chart.png"},{no:22,iconTitle:"Meteor-Rain",iconPath:"assets/images/meteor-rain.png"},{no:23,iconTitle:"Money-Bag",iconPath:"assets/images/money-bag.png"},{no:24,iconTitle:"MortarBoard",iconPath:"assets/images/mortarboard.png"},{no:25,iconTitle:"NoteBook",iconPath:"assets/images/notebook.png"},{no:26,iconTitle:"Presentation",iconPath:"assets/images/presentation.png"},{no:27,iconTitle:"Search",iconPath:"assets/images/search.png"},{no:28,iconTitle:"Shopping-Cart",iconPath:"assets/images/shopping-cart.png"},{no:29,iconTitle:"Video",iconPath:"assets/images/video.png"},{no:30,iconTitle:"Worckplace",iconPath:"assets/images/workplace.png"},{no:31,iconTitle:"Building",iconPath:"assets/images/building.png"},{no:32,iconTitle:"Cloud",iconPath:"assets/images/cloud-network.png"},{no:33,iconTitle:"Idea",iconPath:"assets/images/idea.png"},{no:34,iconTitle:"Laptop",iconPath:"assets/images/laptop.png"},{no:35,iconTitle:"Like",iconPath:"assets/images/like.png"},{no:36,iconTitle:"Line-Chart",iconPath:"assets/images/line-chart.png"},{no:37,iconTitle:"Meteor-Rain",iconPath:"assets/images/meteor-rain.png"},{no:38,iconTitle:"Money-Bag",iconPath:"assets/images/money-bag.png"},{no:39,iconTitle:"MortarBoard",iconPath:"assets/images/mortarboard.png"},{no:40,iconTitle:"NoteBook",iconPath:"assets/images/notebook.png"},{no:41,iconTitle:"Presentation",iconPath:"assets/images/presentation.png"},{no:42,iconTitle:"Search",iconPath:"assets/images/search.png"},{no:43,iconTitle:"Shopping-Cart",iconPath:"assets/images/shopping-cart.png"},{no:44,iconTitle:"Video",iconPath:"assets/images/video.png"},{no:45,iconTitle:"Worckplace",iconPath:"assets/images/workplace.png"}]}ngOnInit(){console.log(this.icons.length)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=y({type:t,selectors:[["app-icons"]],standalone:!0,features:[M],decls:4,vars:1,consts:[[1,"icon-grid"],[1,"icon-item"],[1,"text-danger"],[1,"icon-img",3,"src","alt"],[1,"icon-title"]],template:function(i,o){i&1&&(r(0,"div",0),pe(1,mt,4,3,"div",1,pt,!1,dt,2,0,"div",2),n()),i&2&&(a(),me(o.icons))},styles:[".icon-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);grid-gap:auto;padding:2px;justify-items:center;width:100%}.icon-item[_ngcontent-%COMP%]{width:5rem;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}.icon-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;margin-bottom:10px}.icon-title[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-color)}@media only screen and (max-width: 37.5em){.icon-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);grid-gap:10px}}"]})}}return t})();var Xe=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=y({type:t,selectors:[["app-maps"]],standalone:!0,features:[M],decls:2,vars:0,consts:[[1,"map-container"],["width","600","height","450","loading","lazy","allowfullscreen","","src",le`https://www.openstreetmap.org/export/embed.html?bbox=31.190357208251957%2C30.00867227281978%2C31.260051727294926%2C30.067679471924614&layer=mapnik`,2,"border","0"]],template:function(i,o){i&1&&(r(0,"div",0),u(1,"iframe",1),n())},styles:[".map-container[_ngcontent-%COMP%]{width:95%;height:70vh;position:relative;margin:0 auto}iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:none}"]})}}return t})();var Ye=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=y({type:t,selectors:[["app-secure"]],standalone:!0,features:[M],decls:1,vars:0,template:function(i,o){i&1&&u(0,"router-outlet")},dependencies:[w,ye]})}}return t})();function ut(t,d){t&1&&(r(0,"h1"),l(1),s(2,"translate"),n()),t&2&&(a(),g(c(2,1,"buttons.editEmployee")))}function gt(t,d){t&1&&(r(0,"h1"),l(1),s(2,"translate"),n()),t&2&&(a(),g(c(2,1,"buttons.addEmployee")))}function ht(t,d){t&1&&(r(0,"span"),l(1),s(2,"translate"),n()),t&2&&(a(),m(" ",c(2,1,"buttons.update")," "))}function bt(t,d){t&1&&(r(0,"span"),l(1),s(2,"translate"),n()),t&2&&(a(),m(" ",c(2,1,"buttons.add")," "))}var tt=(()=>{class t{constructor(e){this.formsService=e,this.employee=re(),this.addEmployee=z(),this.updateEmployee=z(),this.close=z(),this.employeeForm=this.formsService.createEmployeeModalForm()}ngOnInit(){this.employee()&&this.employeeForm.patchValue(this.employee())}submit(){if(this.employeeForm.valid){let e=this.employee();e&&e.scrambledId?this.updateEmployee.emit(this.employeeForm.value):this.addEmployee.emit(this.employeeForm.value),this.close.emit()}}static{this.\u0275fac=function(i){return new(i||t)(b(Z))}}static{this.\u0275cmp=y({type:t,selectors:[["app-add-employee-madal"]],inputs:{employee:[ae.SignalBased,"employee"]},outputs:{addEmployee:"addEmployee",updateEmployee:"updateEmployee",close:"close"},standalone:!0,features:[M],decls:24,vars:19,consts:[[1,"modal-backdrop",3,"click"],[1,"modal"],[3,"ngSubmit","formGroup"],[1,"form-group"],["formControlName","name",3,"placeholder"],["formControlName","country",3,"placeholder"],["formControlName","city",3,"placeholder"],["formControlName","salary",1,"mb-2",3,"placeholder"],[1,"btnsContainer","d-flex","wrap"],["type","submit",1,"btn","btn-add","btn-update",3,"disabled"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,o){i&1&&(r(0,"div",0),_("click",function(){return o.close.emit()}),n(),r(1,"div",1),C(2,ut,3,3,"h1")(3,gt,3,3),r(4,"form",2),_("ngSubmit",function(){return o.submit()}),r(5,"div",3),u(6,"input",4),s(7,"translate"),n(),r(8,"div",3),u(9,"input",5),s(10,"translate"),n(),r(11,"div",3),u(12,"input",6),s(13,"translate"),n(),r(14,"div",3),u(15,"input",7),s(16,"translate"),n(),r(17,"div",8)(18,"button",9),C(19,ht,3,3,"span")(20,bt,3,3),n(),r(21,"button",10),_("click",function(){return o.close.emit()}),l(22),s(23,"translate"),n()()()()),i&2&&(a(2),A(2,o.employee()?2:3),a(2),h("formGroup",o.employeeForm),a(2),x("placeholder",c(7,9,"table-list.name")),a(3),x("placeholder",c(10,11,"user-profile.country")),a(3),x("placeholder",c(13,13,"user-profile.city")),a(3),x("placeholder",c(16,15,"table-list.salary")),a(3),h("disabled",o.employeeForm.invalid),a(),A(19,o.employee()?19:20),a(3),m(" ",c(23,17,"buttons.cancel")," "))},dependencies:[w,K,F,N,J,Q,X,E],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#1615157a;z-index:1040}.modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;width:40%;height:60%;display:flex;flex-direction:column;align-items:center;transform:translate(-50%,-50%);z-index:1050;padding:20px;border-radius:5px;box-shadow:0 3px 7px #0000004d;background-color:#fff!important}.modal[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;color:#000;background-color:#fff!important;font-weight:bolder}.modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{align-items:center;background-color:#fff!important;flex-direction:column;display:flex;height:100%;width:92%;justify-content:space-between}.modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#fff!important;font-weight:700;border:none;border-bottom:2px solid #777;color:#000;outline:none;font-size:larger}.modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btnsContainer[_ngcontent-%COMP%]{justify-content:space-evenly;width:85%;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .btn-update.btn-add[_ngcontent-%COMP%]{background-color:var(--button-col);color:var(--text-color)}.modal[_ngcontent-%COMP%]   .btn-update.btn-add[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{background-color:unset}.modal[_ngcontent-%COMP%]   .btn-update.btn-add[_ngcontent-%COMP%]:hover, .modal[_ngcontent-%COMP%]   .btn-update.btn-add[_ngcontent-%COMP%]:focus{background-color:#777;color:#fff!important}.modal[_ngcontent-%COMP%]   .btn-update.btn-add[_ngcontent-%COMP%]:disabled{background-color:#777;color:#333;cursor:not-allowed;opacity:.6}@media only screen and (max-width: 37.5em){.modal[_ngcontent-%COMP%]{width:75%;height:60%}}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ label[_ngcontent-%COMP%]{top:35px;font-size:12px!important;transition:.5s}"]})}}return t})();var it=(()=>{class t{constructor(e){this.firebaseService=e}getEmployees(){return this.firebaseService.getRequest("employees").pipe(oe(e=>Object.entries(e).map(([i,o])=>U($({},o),{scrambledId:i}))))}addEmployee(e){return this.firebaseService.postRequest(`${Y}employees.json`,e,{headers:new W({"content-type":"application/json"})})}updateEmployee(e,i){let f=i,{scrambledId:o}=f,p=ne(f,["scrambledId"]);return this.firebaseService.patchRequest(`${Y}employees/${e}.json`,p,{headers:new W({"content-type":"application/json"})})}deleteEmployee(e){return this.firebaseService.deleteRequest(`${Y}employees/${e}.json`,{headers:new W({"content-type":"application/json"})})}static{this.\u0275fac=function(i){return new(i||t)(I(We))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ee=(()=>{class t{constructor(e,i){this.toastr=e,this.localStorageService=i}getPositionClass(){return(this.localStorageService.getItem("lang")||"en")==="ar"?"toast-bottom-left":"toast-bottom-right"}showSuccess(e,i){let o=this.getPositionClass();this.toastr.success(e,i,{positionClass:o})}showError(e,i){let o=this.getPositionClass();this.toastr.error(e,i,{positionClass:o})}showInfo(e,i){let o=this.getPositionClass();this.toastr.info(e,i,{positionClass:o})}showWarning(e,i){let o=this.getPositionClass();this.toastr.warning(e,i,{positionClass:o})}static{this.\u0275fac=function(i){return new(i||t)(I(Ce),I(V))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var at=(()=>{class t{constructor(e,i,o){this.dialogRef=e,this.employee=i,this.notificationService=o}onNoClick(){this.dialogRef.close()}confirmDelete(){this.dialogRef.close({confirmDelete:!0}),this.notificationService.addNotification({id:this.employee.scrambledId,title:`${this.employee.name} employee was deleted`,time:new Date().toISOString(),read:!1,icon:"fas fa-warning"})}static{this.\u0275fac=function(i){return new(i||t)(b(Se),b(Pe),b(L))}}static{this.\u0275cmp=y({type:t,selectors:[["app-confirm-delete-modal"]],standalone:!0,features:[M],decls:18,vars:16,consts:[["mat-dialog-title",""],[1,"text-danger"],["mat-button","",1,"bg-primary","text-light","mx-1",3,"click"],["mat-button","","cdkFocusInitial","",1,"bg-danger","text-light",3,"click"]],template:function(i,o){i&1&&(r(0,"h2",0),l(1),s(2,"translate"),n(),r(3,"mat-dialog-content")(4,"p"),l(5),s(6,"translate"),r(7,"strong",1),l(8),n(),l(9),s(10,"translate"),n()(),r(11,"mat-dialog-actions")(12,"button",2),_("click",function(){return o.confirmDelete()}),l(13),s(14,"translate"),n(),r(15,"button",3),_("click",function(){return o.onNoClick()}),l(16),s(17,"translate"),n()()),i&2&&(a(),g(c(2,6,"buttons.confirmDelete")),a(4),m(" ",c(6,8,"buttons.confirmDeleteDescription")," "),a(3),m(" ",o.employee.name,""),a(),m(" ",c(10,10,"buttons.questionMark")," "),a(4),m(" ",c(14,12,"buttons.yes")," "),a(3),m(" ",c(17,14,"buttons.no")," "))},dependencies:[w,xe,Te,Ie,we,E],styles:[".cdk-global-overlay-wrapper{background-color:#eeebeb80}  .mat-mdc-dialog-surface.mdc-dialog__surface{background-color:var(--background-color)}  .mat-mdc-dialog-actions.mdc-dialog__actions *{background-color:unset!important;color:#fff!important}  .mat-mdc-button-persistent-ripple.mdc-button__ripple{background-color:var(--button-col)!important;color:#fff!important}  .mat-mdc-button-persistent-ripple.mdc-button__ripple:hover,   .mat-mdc-button-persistent-ripple.mdc-button__ripple:focus{background-color:#999!important}"]})}}return t})();var rt=(()=>{class t{constructor(e){this.dialog=e}openConfirmDeleteDialog(e){return this.dialog.open(at,{data:e})}static{this.\u0275fac=function(i){return new(i||t)(I(Ee))}}static{this.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var xt=()=>[Me,Fe,Be,Ne,Le,Ae,Ue,Ve,je,ze,Re,$e,Ge,He,E,import("./chunk-EQENBI2E.js").then(t=>t.EmptySalaryDirective)];function Mt(t,d){t&1&&(r(0,"th",22),l(1),s(2,"translate"),n()),t&2&&(a(),m(" ",c(2,1,"table-list.name")," "))}function St(t,d){if(t&1&&(r(0,"td",23),l(1),n()),t&2){let e=d.$implicit;h("title",e.name),a(),m(" ",e.name," ")}}function Pt(t,d){t&1&&(r(0,"th",22),l(1),s(2,"translate"),n()),t&2&&(a(),m(" ",c(2,1,"user-profile.country")," "))}function Et(t,d){if(t&1&&(r(0,"td",23),l(1),n()),t&2){let e=d.$implicit;h("title",e.country),a(),m(" ",e.country," ")}}function wt(t,d){t&1&&(r(0,"th",22),l(1),s(2,"translate"),n()),t&2&&(a(),m(" ",c(2,1,"user-profile.city")," "))}function Tt(t,d){if(t&1&&(r(0,"td",23),l(1),n()),t&2){let e=d.$implicit;h("title",e.city),a(),m(" ",e.city," ")}}function It(t,d){t&1&&(r(0,"th",22),l(1),s(2,"translate"),n()),t&2&&(a(),m(" ",c(2,1,"table-list.salary")," "))}function kt(t,d){if(t&1&&(r(0,"td",24)(1,"div",25)(2,"span"),l(3),n()()()),t&2){let e=d.$implicit,i=v(2);h("appEmptySalary",e.salary)("title",e.salary),a(3),m(" ",i.getFormattedSalary(e.salary)," ")}}function Ot(t,d){t&1&&(r(0,"th",22),l(1),s(2,"translate"),n()),t&2&&(a(),m(" ",c(2,1,"buttons.actions")," "))}function Dt(t,d){if(t&1){let e=B();r(0,"td",26)(1,"button",27),u(2,"i",28),n(),r(3,"mat-menu",null,0)(5,"button",29),_("click",function(){let o=S(e).$implicit,p=v(2);return P(p.openAddEmployeeModal(o))}),l(6),s(7,"translate"),n(),r(8,"button",30),_("click",function(){let o=S(e).$implicit,p=v(2);return P(p.deleteEmployee(o))}),l(9),s(10,"translate"),n()()()}if(t&2){let e=de(4);a(),h("matMenuTriggerFor",e),a(5),m(" ",c(7,3,"buttons.edit")," "),a(3),m(" ",c(10,5,"buttons.delete")," ")}}function Bt(t,d){t&1&&u(0,"tr",31)}function Ft(t,d){t&1&&u(0,"tr",32)}function Nt(t,d){if(t&1){let e=B();r(0,"div",7)(1,"div",8)(2,"table",9),O(3,10),C(4,Mt,3,3,"th",11)(5,St,2,2,"td",12),D(),O(6,13),C(7,Pt,3,3,"th",11)(8,Et,2,2,"td",12),D(),O(9,14),C(10,wt,3,3,"th",11)(11,Tt,2,2,"td",12),D(),O(12,15),C(13,It,3,3,"th",11)(14,kt,4,3,"td",16),D(),O(15,17),C(16,Ot,3,3,"th",11)(17,Dt,11,7,"td",18),D(),C(18,Bt,1,0,"tr",19)(19,Ft,1,0,"tr",20),n(),r(20,"button",21),_("click",function(){S(e);let o=v();return P(o.openAddEmployeeModal())}),l(21),s(22,"translate"),n()()()}if(t&2){let e=v();a(2),h("dataSource",e.employees),a(16),h("matHeaderRowDef",e.displayedColumns()),a(),h("matRowDefColumns",e.displayedColumns()),a(2),m(" ",c(22,4,"buttons.add")," ")}}function Lt(t,d){t&1&&(r(0,"div",33)(1,"div",34)(2,"span",35),l(3,"Loading..."),n()(),r(4,"p"),l(5,"Please wait while the employees are being fetched..."),n()())}function jt(t,d){if(t&1){let e=B();r(0,"app-add-employee-madal",36),_("addEmployee",function(o){S(e);let p=v();return P(p.handleAddEmployee(o))})("updateEmployee",function(o){S(e);let p=v();return P(p.handleUpdateEmployee(o))})("close",function(){S(e);let o=v();return P(o.closeAddEmployeeModal())}),n()}if(t&2){let e=v();h("employee",e.selectedEmployee)}}var lt=(()=>{class t{constructor(e,i,o,p,f,R){this.tableService=e,this.toastService=i,this.dialogService=o,this.localStorageService=p,this.notificationService=f,this.currencyPipe=R,this.employeesData=G([]),this.searchText=G(""),this.filteredEmployees=be(()=>{let ie=this.searchText().toLocaleLowerCase();return ie?this.employeesData().filter(ct=>ct.name.toLocaleLowerCase().includes(ie)):this.employeesData()}),this.employees=new qe(this.filteredEmployees()),this.isAddEmployeeModalOpen=!1,this.displayedColumns=G(["name","country","city","salary","actions"]).asReadonly(),_e(()=>{console.log("filteredEmployees",this.filteredEmployees().length),this.employees.data=this.filteredEmployees()})}ngOnInit(){this.getEmployees()}getEmployees(){this.tableService.getEmployees().subscribe(e=>{console.log("Full response:",e);let i=e.sort((o,p)=>o.name.localeCompare(p.name));this.employeesData.set(i)})}openAddEmployeeModal(e){this.isAddEmployeeModalOpen=!0,this.selectedEmployee=e}closeAddEmployeeModal(){this.isAddEmployeeModalOpen=!1,this.selectedEmployee=void 0}handleAddEmployee(e){this.tableService.addEmployee(e).subscribe(()=>{this.getEmployees(),this.employees.data=this.filteredEmployees(),this.toastService.showSuccess("Employee added successfully")},()=>{this.toastService.showError("Failed to add employee")}),this.notificationService.addNotification({id:e.scrambledId,title:`${e.name} employee was added`,time:new Date().toISOString(),read:!1,icon:"fa fa-user"}),this.closeAddEmployeeModal()}handleUpdateEmployee(e){!this.selectedEmployee||!this.selectedEmployee.scrambledId||(this.tableService.updateEmployee(this.selectedEmployee.scrambledId,e).subscribe(()=>{this.getEmployees(),this.employees.data=this.filteredEmployees(),this.toastService.showSuccess("Employee updated successfully")},()=>{this.toastService.showError("Failed to update employee")}),this.notificationService.addNotification({id:e.scrambledId,title:`${e.name} employee was updated`,time:new Date().toISOString(),read:!1,icon:"fas fa-user-edit"}),this.closeAddEmployeeModal())}deleteEmployee(e){this.dialogService.openConfirmDeleteDialog(e).afterClosed().subscribe(o=>{o?.confirmDelete&&this.tableService.deleteEmployee(e.scrambledId).subscribe(()=>{this.employeesData.update(p=>p.filter(f=>f.scrambledId!==e.scrambledId)),this.employees.data=this.filteredEmployees(),this.toastService.showSuccess("Employee deleted successfully")},()=>{this.toastService.showError("Failed to delete employee")})})}updateSearchText(e){this.searchText.set(e),this.employees.data=this.filteredEmployees()}getFormattedSalary(e){let i=this.localStorageService.getItem("lang")||"en",o=i==="ar"?"ar-EG":"en-US",p=i==="ar"?"\u062C.\u0645":"EGP",f=typeof e=="string"?parseFloat(e):e;return isNaN(f)?(console.error("Invalid salary value:",e),null):this.currencyPipe.transform(f,p,"symbol","1.0-0",o)}static{this.\u0275fac=function(i){return new(i||t)(b(it),b(ee),b(rt),b(V),b(L),b(q))}}static{this.\u0275cmp=y({type:t,selectors:[["app-table-list"]],standalone:!0,features:[he([q]),M],decls:13,vars:5,consts:[["menu","matMenu"],[1,"container"],[1,"row","mx-0","d-flex","justify-content-center"],[1,"col-5","mt-4"],["appearance","outline",1,"d-flex","w-100"],["matInput","","placeholder","Search By Name...","type","text",3,"ngModelChange","ngModel"],[3,"employee"],[1,"row"],[1,"col-md-12"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"title",4,"matCellDef"],["matColumnDef","country"],["matColumnDef","city"],["matColumnDef","salary"],["mat-cell","",3,"appEmptySalary","title",4,"matCellDef"],["matColumnDef","actions"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["type","button",1,"btn","my-3",3,"click"],["mat-header-cell",""],["mat-cell","",3,"title"],["mat-cell","",3,"appEmptySalary","title"],[1,"fw-bold"],["mat-cell",""],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"fa-solid","fa-ellipsis"],["mat-menu-item","",1,"text-primary",3,"click"],["mat-menu-item","",1,"text-danger",3,"click"],["mat-header-row",""],["mat-row",""],[1,"text-center","mt-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[3,"addEmployee","updateEmployee","close","employee"]],template:function(i,o){i&1&&(r(0,"div",1)(1,"div",2)(2,"div",3)(3,"mat-form-field",4)(4,"mat-label"),l(5),s(6,"translate"),n(),r(7,"input",5),ge("ngModelChange",function(f){return ue(o.searchText,f)||(o.searchText=f),f}),_("ngModelChange",function(f){return o.updateSearchText(f)}),n()()()(),C(8,Nt,23,6)(9,Lt,6,0),H(10,8,xt,null,9),ce(0,-1),n(),C(12,jt,1,1,"app-add-employee-madal",6)),i&2&&(a(5),g(c(6,3,"icons.search")),a(2),fe("ngModel",o.searchText),a(5),A(12,o.isAddEmployeeModalOpen?12:-1))},dependencies:[w,F,N,ve,Oe,ke,De,E,tt],styles:["*[_ngcontent-%COMP%]{color:unset!important}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:var(--background-color)!important}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px;border:1px solid #ddd;text-align:center}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--background-color);transition:var(--transition-theme)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;border:1px solid #ddd;text-align:center;transition:var(--transition-theme)}.btn.my-3[_ngcontent-%COMP%]{background-color:var(--button-col);color:var(--text-color)}.btn.my-3[_ngcontent-%COMP%]:hover, .btn.my-3[_ngcontent-%COMP%]:focus{background-color:var(--text-color);color:var(--button-col)!important}  .mat-mdc-table{box-shadow:var(--box-shadow);background-color:var(--background-color)!important;transition:var(--transition-theme)}  .cdk-overlay-container{background-color:unset}  .cdk-overlay-connected-position-bounding-box{background-color:unset}  .mat-mdc-menu-panel.mat-mdc-elevation-specific,   .mat-mdc-menu-panel.mat-mdc-elevation-specific   .mat-mdc-menu-panel *{background-color:unset;color:unset}  #mat-menu-panel-0{background-color:var(--background-color)}  .mat-mdc-text-field-wrapper.mdc-text-field.ng-tns-c3736059725-0.mdc-text-field--outlined *{background-color:unset;color:var(--text-color)}@media only screen and (max-width: 37.5em){table[_ngcontent-%COMP%]{min-width:unset}  .mat-mdc-header-cell{padding:0!important;text-align:center!important}  .mat-mdc-table{table-layout:fixed!important;padding:0!important}  .mat-mdc-cell{padding:0!important;text-align:center!important;text-transform:capitalize}}  .mat-mdc-cell.mdc-data-table__cell.cdk-cell.cdk-column-actions.mat-column-actions.ng-star-inserted *{background-color:unset!important}  .mat-mdc-menu-content *{background-color:unset!important;color:unset!important}.text-primary[_ngcontent-%COMP%]{color:#0d6efd!important}.text-primary[_ngcontent-%COMP%]:hover, .text-primary[_ngcontent-%COMP%]:focus{background-color:#8080807a!important}.text-danger[_ngcontent-%COMP%]{color:#dc3545!important}.text-danger[_ngcontent-%COMP%]:hover, .text-danger[_ngcontent-%COMP%]:focus{background-color:#8080807a!important}"]})}}return t})();var At=()=>[K,F,N,J,Q,X,E];function Vt(t,d){if(t&1){let e=B();r(0,"div",10)(1,"div",11)(2,"h2"),l(3),s(4,"translate"),n(),r(5,"form",12),_("ngSubmit",function(){S(e);let o=v();return P(o.onUpdate(o.form))}),r(6,"div",13)(7,"label",14),l(8),s(9,"translate"),n(),r(10,"input",15),_("change",function(o){S(e);let p=v();return P(p.onImageSelected(o))}),n()(),r(11,"div",13)(12,"label",16),l(13),s(14,"translate"),n(),u(15,"input",17),n(),r(16,"div",13)(17,"label",18),l(18),s(19,"translate"),n(),u(20,"input",19),s(21,"translate"),n(),r(22,"div",13)(23,"label",20),l(24),s(25,"translate"),n(),u(26,"input",21),s(27,"translate"),n(),r(28,"div",13)(29,"label",22),l(30),s(31,"translate"),n(),u(32,"input",23),n(),r(33,"div",13)(34,"label",24),l(35),s(36,"translate"),n(),u(37,"input",25),n(),r(38,"div",13)(39,"label",26),l(40),s(41,"translate"),n(),u(42,"input",27),s(43,"translate"),n(),r(44,"div",28)(45,"div",29)(46,"label",30),l(47),s(48,"translate"),n(),u(49,"input",31),s(50,"translate"),n(),r(51,"div",29)(52,"label",32),l(53),s(54,"translate"),n(),u(55,"input",33),s(56,"translate"),n(),r(57,"div",29)(58,"label",34),l(59),s(60,"translate"),n(),u(61,"input",35),s(62,"translate"),n()(),r(63,"div",13)(64,"label",36),l(65),s(66,"translate"),n(),u(67,"textarea",37),n(),r(68,"button",38),l(69),s(70,"translate"),n()()()()}if(t&2){let e=v();a(3),g(c(4,20,"user-profile.edit-profile")),a(2),h("formGroup",e.form),a(3),g(c(9,22,"user-profile.upload-image")),a(5),m("",c(14,24,"user-profile.company")," "),a(5),g(c(19,26,"form.username")),a(2),x("placeholder",c(21,28,"form.enterUsername")),a(4),g(c(25,30,"form.email")),a(2),x("placeholder",c(27,32,"form.enterEmail")),a(4),g(c(31,34,"user-profile.first-name")),a(5),g(c(36,36,"user-profile.last-name")),a(5),g(c(41,38,"user-profile.address")),a(2),x("placeholder",c(43,40,"user-profile.address")),a(5),g(c(48,42,"user-profile.city")),a(2),x("placeholder",c(50,44,"user-profile.city")),a(4),g(c(54,46,"user-profile.country")),a(2),x("placeholder",c(56,48,"user-profile.country")),a(4),g(c(60,50,"user-profile.postal-code")),a(2),x("placeholder",c(62,52,"user-profile.zip-code")),a(4),g(c(66,54,"user-profile.about-me")),a(4),m(" ",c(70,56,"user-profile.update-profile")," ")}}var st=(()=>{class t{constructor(e,i,o,p){this.authService=e,this.formsService=i,this.notificationService=o,this.toastService=p,this.form=this.formsService.createProfileForm(),this.profile={name:"Chet Faker",username:"@chetfaker",imagePath:"./assets/images/avatar2.jpg",backgroundImage:"./assets/images/background.jpg",imageAlt:"Avatar image",backgroundAlt:"Background image",aboutMe:"Add Bio"},this.authService.username$.subscribe(f=>{f&&(this.profile.username=`@${f}`,this.profile.name=f),this.authService.imagePath$.subscribe(R=>{R&&(this.profile.imagePath=R)})}),this.authService.profile$.subscribe(f=>{this.profile=f,this.form.patchValue({username:f.username.slice(1),firstName:f.name.split(" ")[0]||"",lastName:f.name.split(" ")[1]||"",aboutMe:f.aboutMe||""})})}onImageSelected(e){let i=e.target;if(i.files&&i.files[0]){let o=i.files[0],p=new FileReader;p.onload=f=>{this.selectedImagePath=f.target.result},p.readAsDataURL(o)}}onUpdate(e){let i=e.value,o=U($({},this.profile),{name:`${i.firstName??""} ${i.lastName??""}`.trim(),username:`@${i.username}`.trim(),aboutMe:i.aboutMe??"",imagePath:this.selectedImagePath?this.selectedImagePath:this.profile.imagePath});this.toastService.showSuccess("Profile has been updated"),this.authService.updateProfileData(o),this.notificationService.addNotification({id:`-${Date.now()}`,title:"Profile Updated",time:new Date().toISOString(),read:!1,icon:"fas fa-info-circle"}),this.form.reset()}static{this.\u0275fac=function(i){return new(i||t)(b(Je),b(Z),b(L),b(ee))}}static{this.\u0275cmp=y({type:t,selectors:[["app-user-profile"]],standalone:!0,features:[M],decls:38,vars:27,consts:[["interaction",""],[1,"container","d-flex","flex-column"],[1,"user","profile-card"],["sizes","(max-width: 500px) 100vw, (max-width: 1000px) 50vw, 33vw",1,"background",3,"src","srcset","alt"],["sizes","(max-width: 50px) 50px, (max-width: 100px) 100px, 150px",1,"profile-image",3,"src","srcset","alt"],[1,"username"],[1,"quote"],[1,"stats"],[1,"stat"],["type","button",1,"btn"],[1,"row","form-container","mb-3"],[1,"col-md-12"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","profileImage",1,"form-label"],["type","file","id","profileImage",1,"form-control",3,"change"],["for","company",1,"form-label"],["type","text","id","company","value","Add company name","formControlName","company",1,"form-control"],["for","username",1,"form-label"],["formControlName","username","type","text","id","username",1,"form-control",3,"placeholder"],["for","email",1,"form-label"],["formControlName","email","type","email","id","email",1,"form-control",3,"placeholder"],["for","firstName",1,"form-label"],["type","text","formControlName","firstName","id","firstName",1,"form-control"],["for","lastName",1,"form-label"],["type","text","formControlName","lastName","id","lastName",1,"form-control"],["for","address",1,"form-label"],["formControlName","address","type","text","id","address",1,"form-control",3,"placeholder"],[1,"row","mb-3"],[1,"col"],["for","city",1,"form-label"],["type","text","id","city","formControlName","city",1,"form-control",3,"placeholder"],["for","country",1,"form-label"],["formControlName","country","type","text","id","country",1,"form-control",3,"placeholder"],["for","postalCode",1,"form-label"],["formControlName","postalCode","type","text","id","postalCode",1,"form-control",3,"placeholder"],["for","aboutMe",1,"form-label"],["formControlName","aboutMe","id","aboutMe","rows","3",1,"form-control"],["type","submit",1,"btn","mb-2"]],template:function(i,o){i&1&&(r(0,"div",1)(1,"div",2),u(2,"img",3)(3,"img",4),r(4,"h2"),l(5),n(),r(6,"p",5),l(7),n(),r(8,"p",6),l(9),n(),r(10,"div",7)(11,"div",8)(12,"span"),l(13,"12"),n(),r(14,"h3"),l(15),s(16,"translate"),n()(),r(17,"div",8)(18,"span"),l(19),s(20,"translate"),n(),r(21,"h3"),l(22),s(23,"translate"),n()(),r(24,"div",8)(25,"span"),l(26),s(27,"translate"),n(),r(28,"h3"),l(29),s(30,"translate"),n()()()(),r(31,"button",9,0),l(33),s(34,"translate"),n(),C(35,Vt,71,58),H(36,35,At),se(31),n()),i&2&&(a(2),h("src",o.profile.backgroundImage||"assets/images/background.jpg",j)("srcset",o.profile.backgroundImage+" 500w, "+o.profile.backgroundImage+" 1000w, "+o.profile.backgroundImage+" 1500w")("alt",o.profile.backgroundAlt),a(),h("src",o.profile.imagePath,j)("srcset",o.profile.imagePath+" 50w, "+o.profile.imagePath+" 100w, "+o.profile.imagePath+" 150w")("alt",o.profile.imageAlt),a(2),g(o.profile.name),a(2),g(o.profile.username),a(2),m('"',o.profile.aboutMe,'"'),a(6),g(c(16,15,"dashboard-overview.labels.files")),a(4),m("2",c(20,17,"units.gigabyte"),""),a(3),g(c(23,19,"dashboard-overview.labels.used")),a(4),m("24,6",c(27,21,"units.dollar"),""),a(3),g(c(30,23,"dashboard-overview.labels.spent")),a(4),m(" ",c(34,25,"buttons.click-here-to-edit")," "))},dependencies:[w,E],styles:[".container[_ngcontent-%COMP%]{justify-content:center;align-items:center;row-gap:3rem}.container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]{background-color:var(--background-color);border-radius:10px;box-shadow:var(--box-shadow);width:85%;height:35rem;overflow:hidden;text-align:center;position:relative}.container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{width:100%;height:40%}.container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{width:12rem;height:12rem;border-radius:50%;border:4px solid white;margin-top:-50px;object-fit:cover}.container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:10px 0;color:#38c1c4;font-size:22px;font-weight:700}.container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#888;font-size:14px;margin-bottom:15px}.container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .quote[_ngcontent-%COMP%]{font-style:italic;font-size:14px;color:#666;margin-bottom:20px}.container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:10px}.container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-weight:700;color:var(--text-color);font-size:larger}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--background-color);color:var(--text-color);width:91%;padding:1.5rem}.container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{background-color:var(--background-color);color:var(--text-color);box-shadow:var(--box-shadow)}.container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:var(--button-col);color:var(--text-color)}.container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{background-color:var(--text-color);color:var(--button-col)}.container[_ngcontent-%COMP%]   .row.mb-3[_ngcontent-%COMP%]{padding:0;width:100%}  #cdk-overlay-0{background-color:red!important}"]})}}return t})();var ki=[{path:"",component:Ye,children:[{path:"dashboard",component:Ke},{path:"icons",component:Qe},{path:"maps",component:Xe},{path:"user-profile",component:st},{path:"table-list",component:lt},{path:"",redirectTo:"dashboard",pathMatch:"full"}]}];export{ki as lazyRoutesSecure};
